# I have already installed terraform using chocolatey on the VMs, and configured the auto-complete option.
# I have a user group on AWS IAM that has the following permissions:
## AmazonVPCFullAccess
## AmazonEC2FullAccess
## AmazonS3FullAccess
## AmazonRDSFullAccess
# I created a secret key from that account and used it to configure the AWS CLI on a VM (note: this will be deleted before the machine image is frozen.)

# Using the CLIs
## You will need to help them decide which shell they are going to use. Most of what we will do will be through the command line. I have been using Git Bash and PowerShell with no problems. 
## NOTE: Docker on the Windows Server 2019 version we have on the VMs is problematic 
- the VMs do not have Hyper-V capability, so Docker Desktop will not function, which means the only way to run Docker is with native windows containers. 
- I have tried to get full functionality for Docker on Windows using the steps in https://blog.sixeyed.com/getting-started-with-docker-on-windows-server-2019/
- It does mean Linux native containers like nginx will not work. I have replaced these with windows containers in the examples. 

# Webhook Demo
## This requires something setup on your VM to receive the Webhook POST request
- I followed the suggestions at https://docs.github.com/en/github-ae@latest/developers/webhooks-and-events/webhooks/creating-webhooks
- For the VMs I installed ngrok on Windows (https://ngrok.com/download), but found the Ruby install needed for Sinatra just wasn't sufficient on the Windows side, so I installed Ruby in the Ubuntu shell and it worked fine. There is a weird windows bug in the Ubuntu shell - the workaround fix was ``export TERM=xterm-color``. Apparently MS will release a proper fix soon.


# docker-compose installation
## This is required for one of the tutorials 
- web page https://docs.docker.com/compose/install/, look under Windows Server
- In a PowerShell running as Administrator: 
$ SecurityProtocol = [Net.SecurityProtocolType]::Tls12
$ Invoke-WebRequest "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-
Windows-x86_64.exe" -UseBasicParsing -OutFile $Env:ProgramFiles\Docker\docker-compose.exe
PS C:\Users\Administrator> docker-compose --version
- test installation:
$ docker-compose --version

# TIDY UP
1. delete ~/.aws/credentials
2. delete ~/terraform
3. delete ~/terraform-3day
